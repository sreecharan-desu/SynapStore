import { PrismaClient } from '@prisma/client'; const prisma = new PrismaClient(); async function main() { const ninetyDays = new Date(); ninetyDays.setDate(ninetyDays.getDate() + 90); const batches = await prisma.inventoryBatch.findMany({ where: { qtyAvailable: { gt: 0 }, expiryDate: { lte: ninetyDays } }, include: { medicine: true } }); console.log(JSON.stringify(batches, null, 2)); } main();
